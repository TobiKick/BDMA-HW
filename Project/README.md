### Apps:

#### kafkastreampredictor
        docker build -t kafka-stream-predictor .
        docker run -it --rm --network master-thesis_kafka-network --name kafka-stream-predictor kafka-stream-predictor
     
#### modelservice
        docker build -t model-service .
        docker run -it --rm -p 5000:5000 --network master-thesis_kafka-network --name model-service model-service
#### sparkpredictor
        
#### txgenerator
    /Users/pawelurbanowicz/venv/bin/python setup.py install
    python3 app.py [sleep ms between txs]
    
    docker build -t tx-generator .
    docker run -it --rm --network master-thesis_kafka-network --name tx-generator tx-generator

### Demo
    docker-compose up
    kafkacat -C -b localhost:9092 -t new_txs
    kafkacat -C -b localhost:9092 -t fraud_txs
    
### Extra:

#### init hadoop
    docker cp  test_identity_transaction.csv namenode:test_identity_transaction.csv
    docker exec -it namenode bash
    hadoop fs -mkdir -p test_identity_transaction.csv /data/test_identity_transaction.csv

### docker cleaning 
    docker stop $(docker ps -a -q)
    docker rm $(docker ps -a -q)
  
### Spark
    http://localhost:8084/
    http://localhost:8085/
    http://localhost:8086/

    mvn clean compile assembly:single | manual
    docker build . -t spark-app

### MlFlow
    export MLFLOW_EXPERIMENT_NAME=complex-model
    sudo mlflow experiments create --experiment-name complex-model
        
    pip3 install mlflow``
    mlflow ui --port 5001

### Extra
    netstat -vanp tcp | grep 5000

### COOL STAFF TO CHECK OUT

[
  {
    "TransactionID": 3663549,
    "TransactionDT": 18403224,
    "TransactionAmt": 31.95,
    "ProductCD": "W",
    "card1": 10409,
    "card2": 111,
    "card3": 150,
    "card4": "visa",
    "card5": 226,
    "card6": "debit",
    "addr1": 170,
    "addr2": 87,
    "dist1": 1,
    "dist2": null,
    "P_emaildomain": "gmail.com",
    "R_emaildomain": null,
    "C1": 6,
    "C2": 6,
    "C3": 0,
    "C4": 0,
    "C5": 3,
    "C6": 4,
    "C7": 0,
    "C8": 0,
    "C9": 6,
    "C10": 0,
    "C11": 5,
    "C12": 1,
    "C13": 115,
    "C14": 6,
    "D1": 419,
    "D2": 419,
    "D3": 27,
    "D4": 398,
    "D5": 27,
    "D6": null,
    "D7": null,
    "D8": null,
    "D9": null,
    "D10": 418,
    "D11": 203,
    "D12": null,
    "D13": null,
    "D14": null,
    "D15": 409,
    "M1": "T",
    "M2": "T",
    "M3": "F",
    "M4": null,
    "M5": null,
    "M6": "F",
    "M7": "T",
    "M8": "T",
    "M9": "T",
    "V1": 1,
    "V2": 1,
    "V3": 1,
    "V4": 1,
    "V5": 1,
    "V6": 1,
    "V7": 1,
    "V8": 1,
    "V9": 1,
    "V10": 1,
    "V11": 1,
    "V12": 0,
    "V13": 0,
    "V14": 1,
    "V15": 0,
    "V16": 0,
    "V17": 0,
    "V18": 0,
    "V19": 0,
    "V20": 0,
    "V21": 0,
    "V22": 0,
    "V23": 1,
    "V24": 1,
    "V25": 0,
    "V26": 0,
    "V27": 0,
    "V28": 0,
    "V29": 0,
    "V30": 0,
    "V31": 0,
    "V32": 0,
    "V33": 0,
    "V34": 0,
    "V35": 1,
    "V36": 1,
    "V37": 1,
    "V38": 1,
    "V39": 0,
    "V40": 0,
    "V41": 1,
    "V42": 0,
    "V43": 0,
    "V44": 1,
    "V45": 1,
    "V46": 1,
    "V47": 1,
    "V48": 1,
    "V49": 1,
    "V50": 0,
    "V51": 0,
    "V52": 0,
    "V53": 0,
    "V54": 0,
    "V55": 1,
    "V56": 1,
    "V57": 0,
    "V58": 0,
    "V59": 0,
    "V60": 0,
    "V61": 0,
    "V62": 0,
    "V63": 0,
    "V64": 0,
    "V65": 1,
    "V66": 0,
    "V67": 0,
    "V68": 0,
    "V69": 0,
    "V70": 0,
    "V71": 0,
    "V72": 0,
    "V73": 0,
    "V74": 0,
    "V75": 0,
    "V76": 0,
    "V77": 1,
    "V78": 1,
    "V79": 0,
    "V80": 0,
    "V81": 0,
    "V82": 1,
    "V83": 1,
    "V84": 0,
    "V85": 0,
    "V86": 1,
    "V87": 1,
    "V88": 1,
    "V89": 0,
    "V90": 1,
    "V91": 1,
    "V92": 0,
    "V93": 0,
    "V94": 0,
    "V95": 0,
    "V96": 1,
    "V97": 0,
    "V98": 0,
    "V99": 1,
    "V100": 0,
    "V101": 0,
    "V102": 0,
    "V103": 0,
    "V104": 0,
    "V105": 0,
    "V106": 0,
    "V107": 1,
    "V108": 1,
    "V109": 1,
    "V110": 1,
    "V111": 1,
    "V112": 1,
    "V113": 1,
    "V114": 1,
    "V115": 1,
    "V116": 1,
    "V117": 1,
    "V118": 1,
    "V119": 1,
    "V120": 1,
    "V121": 1,
    "V122": 1,
    "V123": 1,
    "V124": 1,
    "V125": 1,
    "V126": 0,
    "V127": 47.95000076293945,
    "V128": 0,
    "V129": 0,
    "V130": 47.95000076293945,
    "V131": 0,
    "V132": 0,
    "V133": 0,
    "V134": 0,
    "V135": 0,
    "V136": 0,
    "V137": 0,
    "V138": null,
    "V139": null,
    "V140": null,
    "V141": null,
    "V142": null,
    "V143": null,
    "V144": null,
    "V145": null,
    "V146": null,
    "V147": null,
    "V148": null,
    "V149": null,
    "V150": null,
    "V151": null,
    "V152": null,
    "V153": null,
    "V154": null,
    "V155": null,
    "V156": null,
    "V157": null,
    "V158": null,
    "V159": null,
    "V160": null,
    "V161": null,
    "V162": null,
    "V163": null,
    "V164": null,
    "V165": null,
    "V166": null,
    "V167": null,
    "V168": null,
    "V169": null,
    "V170": null,
    "V171": null,
    "V172": null,
    "V173": null,
    "V174": null,
    "V175": null,
    "V176": null,
    "V177": null,
    "V178": null,
    "V179": null,
    "V180": null,
    "V181": null,
    "V182": null,
    "V183": null,
    "V184": null,
    "V185": null,
    "V186": null,
    "V187": null,
    "V188": null,
    "V189": null,
    "V190": null,
    "V191": null,
    "V192": null,
    "V193": null,
    "V194": null,
    "V195": null,
    "V196": null,
    "V197": null,
    "V198": null,
    "V199": null,
    "V200": null,
    "V201": null,
    "V202": null,
    "V203": null,
    "V204": null,
    "V205": null,
    "V206": null,
    "V207": null,
    "V208": null,
    "V209": null,
    "V210": null,
    "V211": null,
    "V212": null,
    "V213": null,
    "V214": null,
    "V215": null,
    "V216": null,
    "V217": null,
    "V218": null,
    "V219": null,
    "V220": null,
    "V221": null,
    "V222": null,
    "V223": null,
    "V224": null,
    "V225": null,
    "V226": null,
    "V227": null,
    "V228": null,
    "V229": null,
    "V230": null,
    "V231": null,
    "V232": null,
    "V233": null,
    "V234": null,
    "V235": null,
    "V236": null,
    "V237": null,
    "V238": null,
    "V239": null,
    "V240": null,
    "V241": null,
    "V242": null,
    "V243": null,
    "V244": null,
    "V245": null,
    "V246": null,
    "V247": null,
    "V248": null,
    "V249": null,
    "V250": null,
    "V251": null,
    "V252": null,
    "V253": null,
    "V254": null,
    "V255": null,
    "V256": null,
    "V257": null,
    "V258": null,
    "V259": null,
    "V260": null,
    "V261": null,
    "V262": null,
    "V263": null,
    "V264": null,
    "V265": null,
    "V266": null,
    "V267": null,
    "V268": null,
    "V269": null,
    "V270": null,
    "V271": null,
    "V272": null,
    "V273": null,
    "V274": null,
    "V275": null,
    "V276": null,
    "V277": null,
    "V278": null,
    "V279": 0,
    "V280": 0,
    "V281": 0,
    "V282": 0,
    "V283": 0,
    "V284": 0,
    "V285": 1,
    "V286": 0,
    "V287": 0,
    "V288": 0,
    "V289": 0,
    "V290": 1,
    "V291": 1,
    "V292": 1,
    "V293": 0,
    "V294": 0,
    "V295": 0,
    "V296": 0,
    "V297": 0,
    "V298": 0,
    "V299": 0,
    "V300": 0,
    "V301": 0,
    "V302": 0,
    "V303": 0,
    "V304": 0,
    "V305": 1,
    "V306": 0,
    "V307": 47.95000076293945,
    "V308": 0,
    "V309": 0,
    "V310": 47.95000076293945,
    "V311": 0,
    "V312": 0,
    "V313": 0,
    "V314": 0,
    "V315": 0,
    "V316": 0,
    "V317": 0,
    "V318": 0,
    "V319": 0,
    "V320": 0,
    "V321": 0,
    "V322": null,
    "V323": null,
    "V324": null,
    "V325": null,
    "V326": null,
    "V327": null,
    "V328": null,
    "V329": null,
    "V330": null,
    "V331": null,
    "V332": null,
    "V333": null,
    "V334": null,
    "V335": null,
    "V336": null,
    "V337": null,
    "V338": null,
    "V339": null,
    "id_01": null,
    "id_02": null,
    "id_03": null,
    "id_04": null,
    "id_05": null,
    "id_06": null,
    "id_07": null,
    "id_08": null,
    "id_09": null,
    "id_10": null,
    "id_11": null,
    "id_12": null,
    "id_13": null,
    "id_14": null,
    "id_15": null,
    "id_16": null,
    "id_17": null,
    "id_18": null,
    "id_19": null,
    "id_20": null,
    "id_21": null,
    "id_22": null,
    "id_23": null,
    "id_24": null,
    "id_25": null,
    "id_26": null,
    "id_27": null,
    "id_28": null,
    "id_29": null,
    "id_30": null,
    "id_31": null,
    "id_32": null,
    "id_33": null,
    "id_34": null,
    "id_35": null,
    "id_36": null,
    "id_37": null,
    "id_38": null,
    "DeviceType": null,
    "DeviceInfo": null
  }
]

